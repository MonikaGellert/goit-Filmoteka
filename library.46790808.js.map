{"mappings":"ojBAQA,MAAMA,EAAUC,SAASC,cAAc,gBACvCF,EAAQG,UAAUC,IAAI,UACtB,MAAMC,EAAUJ,SAASC,cAAc,kBACjCI,EAAaL,SAASC,cAAc,gBACpCK,EAAWN,SAASC,cAAc,cAWlCM,GAVUP,SAASC,cAAc,YAUfO,IACtB,IAAIC,EAASC,EAAAC,QAAcH,EAAKI,YACR,MAApBJ,EAAKI,aAA2CC,MAApBL,EAAKI,cACnCH,EAAS,4DAGX,MAAMK,EAAS,qEAEsBL,sCACnCD,EAAKO,kBACMP,EAAKO,cAAcP,EAAKQ,kHAI7BR,EAAKO,+EAtBA,CAAAP,IACb,MAAMS,EAAgB,GACtB,IAAK,MAAMC,KAASV,EAAKW,OACvBF,EAAcG,KAAKF,EAAMG,MAE3B,OAAOJ,EAAcK,KAAK,OAoBlBC,CAAOf,QAAWA,EAAKgB,aAAaC,MAAM,KAAK,6CAKvDrB,EAAQsB,mBAAmB,YAAaZ,EAAA,GAGpCa,EAAqB,KACzB5B,EAAQG,UAAU0B,OAAO,UACzBxB,EAAQyB,UAAY,GACyBhB,MAAzCiB,aAAaC,QAAQ,iBAIzBC,EAAAC,mBAAyBC,KAAIC,IAC3BzB,EAAA0B,gBACmBD,GAChBE,MAAK7B,IACJT,EAAQG,UAAUC,IAAI,UACtBI,EAAgBC,EAAA,IAEjB8B,OAAMC,GAASC,QAAQD,MAAMA,IAAA,IAVhCxC,EAAQG,UAAUC,IAAI,SAWxB,EA+BF,SAASsC,IACPpC,EAAWqC,MAAMC,WAAa,UAC9BtC,EAAWqC,MAAME,OAAS,oBAC1BvC,EAAWqC,MAAMG,UAAY,2CAC7BxC,EAAWqC,MAAMI,UAAY,cAC7BzC,EAAWqC,MAAMK,mBAAqB,OACxC,CAeAf,EAAAgB,oBAEA5C,EAAQ6C,iBAAiB,SAjCzBC,eAA4BC,GAC1BA,EAAIC,iBACJ,IACE,MAAMC,QAAiB3C,EAAA0B,gBAAoBe,EAAIG,OAAOtC,IACtDuC,EAAAC,mBAAiCH,EAGnC,CAFE,MAAOd,GACPC,QAAQiB,IAAIlB,EACd,CACF,IAmBEE,IACAd,IASFtB,EAAW4C,iBAAiB,SAAS,KACnCR,IACAd,GAAA,IAEFrB,EAAS2C,iBAAiB,SAAS,KAtBjC5C,EAAWqC,MAAMI,UAAY,WAC7BzC,EAAWqC,MAAMC,WAAa,cAC9BtC,EAAWqC,MAAMgB,aAAe,MAChCrD,EAAWqC,MAAME,OAAS,kBAC1BvC,EAAWqC,MAAMiB,MAAQ,+BAxCzB5D,EAAQG,UAAU0B,OAAO,UACzBxB,EAAQyB,UAAY,GACwBhB,MAAxCiB,aAAaC,QAAQ,gBAIzBC,EAAA4B,kBAAwB1B,KAAIC,IAC1BzB,EAAA0B,gBACmBD,GAChBE,MAAK7B,IACJT,EAAQG,UAAUC,IAAI,UACtBI,EAAgBC,EAAA,IAEjB8B,OAAMC,GAASC,QAAQD,MAAMA,IAAA,IAVhCxC,EAAQG,UAAUC,IAAI,SAyDxB","sources":["src/library.js"],"sourcesContent":["import './sass/main.scss';\nimport * as local from './JS/local_storage';\nimport * as api from './JS/api_films_database';\nimport * as filmsCard from './JS/film_cards';\nimport * as modalCardFilm from './JS/modal_card_film';\nimport * as studentsInfo from './JS/modal_footer';\nimport * as info from './JS/info_functions';\n\nconst spinner = document.querySelector('.loader__div');\nspinner.classList.add('hidden');\nconst gallery = document.querySelector('.section-films');\nconst watchedBtn = document.querySelector('#watched-btn');\nconst queueBtn = document.querySelector('#queue-btn');\nconst library = document.querySelector('#library');\n\nconst genres = film => {\n  const arrayOfGenres = [];\n  for (const genre of film.genres) {\n    arrayOfGenres.push(genre.name);\n  }\n  return arrayOfGenres.join(', ');\n};\n\nconst createFilmCards = film => {\n  let imgSRC = api.IMG_URL + film.poster_path;\n  if (film.poster_path == null || film.poster_path == undefined) {\n    imgSRC = 'https://www.freeiconspng.com/uploads/no-image-icon-6.png';\n  }\n\n  const markup = `\n  <div class=\"film-card\">\n    <img class=\"film-card__img\" src=\"${imgSRC}\" alt=\" Poster of a movie titled '${\n    film.title\n  }'\" title=\"${film.title}\" ID=\"${film.id}\" loading=\"lazy\"/>\n\n    <div class=\"film-card__info\">\n        <p class=\"film-card__info--title\">\n        ${film.title}\n        </p>\n        <p class=\"film-card__info--subtitle\">\n        ${genres(film)} | ${film.release_date.split('-')[0]}\n        </p>\n    </div>\n</div>\n</a>`;\n  gallery.insertAdjacentHTML('beforeend', markup);\n};\n\nconst handleClickWatched = () => {\n  spinner.classList.remove('hidden');\n  gallery.innerHTML = '';\n  if (localStorage.getItem('watchedMovies') == undefined) {\n    spinner.classList.add('hidden');\n    return;\n  }\n  local.getWatchedMovies().map(index => {\n    api\n      .fetchMoviesByID(index)\n      .then(film => {\n        spinner.classList.add('hidden');\n        createFilmCards(film);\n      })\n      .catch(error => console.error(error));\n  });\n};\n\nconst handleClickQueued = () => {\n  spinner.classList.remove('hidden');\n  gallery.innerHTML = '';\n  if (localStorage.getItem('queuedMovies') == undefined) {\n    spinner.classList.add('hidden');\n    return;\n  }\n  local.getQueuedMovies().map(index => {\n    api\n      .fetchMoviesByID(index)\n      .then(film => {\n        spinner.classList.add('hidden');\n        createFilmCards(film);\n      })\n      .catch(error => console.error(error));\n  });\n};\n\nasync function openCardFilm(eve) {\n  eve.preventDefault();\n  try {\n    const infoFilm = await api.fetchMoviesByID(eve.target.id);\n    modalCardFilm.createModalContent(infoFilm);\n  } catch (error) {\n    console.log(error);\n  }\n}\n\nfunction styleButtonBefore() {\n  watchedBtn.style.background = '#ff6b01';\n  watchedBtn.style.border = '1px solid #ff6b01';\n  watchedBtn.style.boxShadow = ' 0px 8px 43px 0px rgba(255, 107, 1, 0.6)';\n  watchedBtn.style.transform = 'scale(1.25)';\n  watchedBtn.style.transitionDuration = '250ms';\n}\n\nfunction styleButtonAfter() {\n  watchedBtn.style.transform = 'scale(1)';\n  watchedBtn.style.background = 'transparent';\n  watchedBtn.style.borderRadius = '5px';\n  watchedBtn.style.border = '1px solid white';\n  watchedBtn.style.color = 'get-color(brand_color-first)';\n}\n\nfunction defaultList() {\n  styleButtonBefore();\n  handleClickWatched();\n}\n\nlocal.checkLocalStorage();\n\ngallery.addEventListener('click', openCardFilm);\n\ndefaultList();\n\nwatchedBtn.addEventListener('click', () => {\n  styleButtonBefore();\n  handleClickWatched();\n});\nqueueBtn.addEventListener('click', () => {\n  styleButtonAfter();\n  handleClickQueued();\n});\n"],"names":["$9a8afeea60b9dfd3$var$spinner","document","querySelector","classList","add","$9a8afeea60b9dfd3$var$gallery","$9a8afeea60b9dfd3$var$watchedBtn","$9a8afeea60b9dfd3$var$queueBtn","$9a8afeea60b9dfd3$var$createFilmCards","film","imgSRC","$5zJd0","IMG_URL","poster_path","undefined","markup","title","id","arrayOfGenres","genre","genres","push","name","join","$9a8afeea60b9dfd3$var$genres","release_date","split","insertAdjacentHTML","$9a8afeea60b9dfd3$var$handleClickWatched","remove","innerHTML","localStorage","getItem","$ezQ3Q","getWatchedMovies","map","index","fetchMoviesByID","then","catch","error","console","$9a8afeea60b9dfd3$var$styleButtonBefore","style","background","border","boxShadow","transform","transitionDuration","checkLocalStorage","addEventListener","async","eve","preventDefault","infoFilm","target","$hfaIS","createModalContent","log","borderRadius","color","getQueuedMovies"],"version":3,"file":"library.46790808.js.map"}