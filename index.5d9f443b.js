var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},s=e.parcelRequired7c6;null==s&&((s=function(e){if(e in t)return t[e].exports;if(e in n){var s=n[e];delete n[e];var i={id:e,exports:{}};return t[e]=i,s.call(i.exports,i,i.exports),i.exports}var l=new Error("Cannot find module '"+e+"'");throw l.code="MODULE_NOT_FOUND",l}).register=function(e,t){n[e]=t},e.parcelRequired7c6=s);var i=s("5zJd0");s("enZ18"),s("46f1F");var l=s("hfaIS");s("11hO5");i=s("5zJd0");let a=1;const o=document.querySelector(".section-films"),c=document.querySelector(".page");let r=document.querySelector("#plus"),d=document.querySelector("#minus"),u=0;function p(e,t){c.innerHTML=function(e,t){let n=[];if(1===e)return r.classList.add("hidden"),d.classList.add("hidden"),n.push('<li class="page__numbers" id="page__selected">1</li>'),n.join("");if(e<8){r.classList.remove("hidden"),d.classList.remove("hidden");for(let s=1;s<e+1;s++)s==t?n.push(`<li class="page__numbers" id="page__selected">${s}</li>`):n.push(`<li class="page__numbers">${s}</li>`);return n.join("")}{r.classList.remove("hidden"),d.classList.remove("hidden"),1==t?n.push('<li class="page__numbers" id="page__selected">1</li>'):n.push('<li class="page__numbers">1</li>'),n.push('<li class="page__dots"> ... </li>');let s=Math.floor(e/2-2);t>1&&(s=t-2),u=s+5,e<t+4&&(s=e-5,u=e),t<4&&1!==t&&(s=2,u=s+5);for(let e=s;e<u;e++)e==t?n.push(`<li class="page__numbers" id="page__selected">${e}</li>`):n.push(`<li class="page__numbers">${e}</li>`);return n.push('<li class="page__dots"> ... </li>'),t==e?n.push(`<li class="page__numbers" id="page__selected">${e}</li>`):n.push(`<li class="page__numbers">${e}</li>`),n.join("")}}(e,t)}const f=document.querySelector("#search-form"),h=document.querySelector(".search-form__input"),m=document.querySelector(".section-films"),_=document.querySelector(".loader__div");let g=document.querySelector("#plus"),v=document.querySelector("#minus"),y=document.querySelector(".page"),L="";f.addEventListener("submit",(function(e){e.preventDefault(),async function(){try{const e=await i.fetchMoviesByName(h.value,1);L=h.value;const t=e;m.innerHTML="",_.classList.remove("hidden"),b(t).map((e=>{i.fetchMoviesByID(e).then((e=>{M(e)})).catch((e=>console.error(e)))}))}catch(e){console.log(e)}p(i.totalPage,1),_.classList.add("hidden"),h.value=""}(),L=h.value})),m.addEventListener("click",(async function(e){e.preventDefault();try{const t=await i.fetchMoviesByID(e.target.id);l.createModalContent(t)}catch(e){console.log(e)}})),_.classList.add("hidden");const M=e=>{let t=i.IMG_URL+e.poster_path;null!=e.poster_path&&null!=e.poster_path||(t="https://www.freeiconspng.com/uploads/no-image-icon-6.png");const n=`\n  <div class="film-card">\n    <img class="film-card__img" src="${t}" alt=" Poster of a movie titled '${e.title}'" title="${e.title}" ID="${e.id}" loading="lazy"/>\n\n    <div class="film-card__info">\n        <p class="film-card__info--title">\n        ${e.title}\n        </p>\n        <p class="film-card__info--subtitle">\n        ${q(e)} | ${e.release_date.split("-")[0]}\n        </p>\n    </div>\n</div>\n</a>`;m.insertAdjacentHTML("beforeend",n)},b=e=>{const t=[];for(const n of e)t.push(n.id);return t},q=e=>{const t=[];for(const n of e.genres)t.push(n.name);return t.join(", ")};async function w(e,t){try{const n=await i.fetchMoviesByName(e,t);m.innerHTML="",_.classList.remove("hidden"),b(n).map((e=>{i.fetchMoviesByID(e).then((e=>{M(e)})).catch((e=>console.error(e)))}))}catch(e){console.log(e)}p(i.totalPage,t),_.classList.add("hidden")}async function $(e){try{_.classList.remove("hidden");const t=await i.fetchMovies(e);b(t).map((e=>{i.fetchMoviesByID(e).then((e=>{M(e)})).catch((e=>console.error(e)))}))}catch(e){console.log(e)}_.classList.add("hidden")}$(),p(i.totalPage,1),g.addEventListener("click",(function(){500!==a&&a!==i.totalPage&&(a+=1,o.innerHTML="",""===L?(p(i.totalPage,a),$(a)):(p(i.totalPage,a),w(L,a)))})),y.addEventListener("click",(function(e){const t=e.target.textContent;o.innerHTML="",a=parseInt(t),""===L?(p(i.totalPage,a),$(a)):(p(i.totalPage,a),w(L,a))})),v.addEventListener("click",(function(){1!==a&&(a-=1,o.innerHTML="",""===L?(p(i.totalPage,a),$(a)):(p(i.totalPage,a),w(L,a)))}));
//# sourceMappingURL=index.5d9f443b.js.map
