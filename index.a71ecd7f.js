var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},o=e.parcelRequired7c6;null==o&&((o=function(e){if(e in t)return t[e].exports;if(e in n){var o=n[e];delete n[e];var r={id:e,exports:{}};return t[e]=r,o.call(r.exports,r,r.exports),r.exports}var c=new Error("Cannot find module '"+e+"'");throw c.code="MODULE_NOT_FOUND",c}).register=function(e,t){n[e]=t},e.parcelRequired7c6=o);var r=o("5zJd0");o("enZ18"),o("46f1F");var c=o("hfaIS");o("11hO5");const s=document.querySelector("#search-form"),i=document.querySelector(".search-form__input"),a=document.querySelector(".section-films");s.addEventListener("submit",(async function(e){e.preventDefault();try{const e=await r.fetchMoviesByName(i.value,1);console.log(e);const t=e.results;console.log(t),a.innerHTML="",d(t).map((e=>{r.fetchMoviesByID(e).then((e=>{l(e)})).catch((e=>console.error(e)))}))}catch(e){console.log(e)}i.value=""})),a.addEventListener("click",(async function(e){e.preventDefault();try{const t=await r.fetchMoviesByID(e.target.id);c.createModalContent(t)}catch(e){console.log(e)}}));const l=e=>{const t=`\n  <div class="film-card">\n    <img class="film-card__img" src="https://image.tmdb.org/t/p/w500/${e.poster_path}" alt="${e.overview}" title="${e.title}" ID="${e.id}" loading="lazy"/>\n\n    <div class="film-card__info">\n        <p class="film-card__info--title">\n        ${e.title}\n        </p>\n        <p class="film-card__info--subtitle">\n        ${f(e)} | ${e.release_date.split("-")[0]}\n        </p>\n    </div>\n</div>\n</a>`;a.insertAdjacentHTML("beforeend",t)},d=e=>{const t=[];for(const n of e)t.push(n.id);return t},f=e=>{const t=[];for(const n of e.genres)t.push(n.name);return t.join(", ")};!async function(e){try{const t=(await r.fetchMovies(e)).results;d(t).map((e=>{r.fetchMoviesByID(e).then((e=>{l(e)})).catch((e=>console.error(e)))}))}catch(e){console.log(e)}}();
//# sourceMappingURL=index.a71ecd7f.js.map
