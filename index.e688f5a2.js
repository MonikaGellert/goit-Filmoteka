var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},s=e.parcelRequired7c6;null==s&&((s=function(e){if(e in t)return t[e].exports;if(e in n){var s=n[e];delete n[e];var o={id:e,exports:{}};return t[e]=o,s.call(o.exports,o,o.exports),o.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){n[e]=t},e.parcelRequired7c6=s);var o=s("5zJd0");s("enZ18"),s("46f1F");var i=s("hfaIS");s("11hO5");o=s("5zJd0");let l=1;const a=document.querySelector(".section-films"),c=document.querySelector(".page");let r=document.querySelector("#plus"),d=document.querySelector("#minus");function u(e,t){c.innerHTML=function(e,t){let n=[];if(1===e)return r.classList.add("hidden"),d.classList.add("hidden"),n.push('<li class="page__numbers" id="page__selected">1</li>'),n.join("");if(e<8){r.classList.remove("hidden"),d.classList.remove("hidden");for(let s=1;s<e+1;s++)s==t?n.push(`<li class="page__numbers" id="page__selected">${s}</li>`):n.push(`<li class="page__numbers">${s}</li>`);return n.join("")}{r.classList.remove("hidden"),d.classList.remove("hidden"),1==t?n.push('<li class="page__numbers" id="page__selected">1</li>'):n.push('<li class="page__numbers">1</li>'),n.push('<li class="page__dots"> ... </li>');let s=Math.floor(e/2-2);t>1&&(s=t-2),stopNumber=s+5,e<t+4&&(s=e-5,stopNumber=e),t<4&&1!==t&&(s=2,stopNumber=s+5);for(let e=s;e<stopNumber;e++)e==t?n.push(`<li class="page__numbers" id="page__selected">${e}</li>`):n.push(`<li class="page__numbers">${e}</li>`);return n.push('<li class="page__dots"> ... </li>'),t==e?n.push(`<li class="page__numbers" id="page__selected">${e}</li>`):n.push(`<li class="page__numbers">${e}</li>`),n.join("")}}(e,t)}const p=document.querySelector("#search-form"),f=document.querySelector(".search-form__input"),h=document.querySelector(".section-films"),m=document.querySelector(".loader__div");let _=document.querySelector("#plus"),g=document.querySelector("#minus"),v=document.querySelector(".page"),y="";p.addEventListener("submit",(function(e){e.preventDefault(),async function(){try{const e=await o.fetchMoviesByName(f.value,1);y=f.value;const t=e;h.innerHTML="",m.classList.remove("hidden"),b(t).map((e=>{o.fetchMoviesByID(e).then((e=>{L(e)})).catch((e=>console.error(e)))}))}catch(e){console.log(e)}u(o.totalPage,1),m.classList.add("hidden"),f.value=""}(),y=f.value})),h.addEventListener("click",(async function(e){e.preventDefault();try{const t=await o.fetchMoviesByID(e.target.id);i.createModalContent(t)}catch(e){console.log(e)}})),m.classList.add("hidden");const L=e=>{let t=o.IMG_URL+e.poster_path;null!=e.poster_path&&null!=e.poster_path||(t="https://www.freeiconspng.com/uploads/no-image-icon-6.png");const n=`\n  <div class="film-card">\n    <img class="film-card__img" src="${t}" alt=" Poster of a movie titled '${e.title}'" title="${e.title}" ID="${e.id}" loading="lazy"/>\n\n    <div class="film-card__info">\n        <p class="film-card__info--title">\n        ${e.title}\n        </p>\n        <p class="film-card__info--subtitle">\n        ${M(e)} | ${e.release_date.split("-")[0]}\n        </p>\n    </div>\n</div>\n</a>`;h.insertAdjacentHTML("beforeend",n)},b=e=>{const t=[];for(const n of e)t.push(n.id);return t},M=e=>{const t=[];for(const n of e.genres)t.push(n.name);return t.join(", ")};async function q(e,t){try{const n=await o.fetchMoviesByName(e,t);h.innerHTML="",m.classList.remove("hidden"),b(n).map((e=>{o.fetchMoviesByID(e).then((e=>{L(e)})).catch((e=>console.error(e)))}))}catch(e){console.log(e)}u(o.totalPage,t),m.classList.add("hidden")}async function w(e){try{m.classList.remove("hidden");const t=await o.fetchMovies(e);b(t).map((e=>{o.fetchMoviesByID(e).then((e=>{L(e)})).catch((e=>console.error(e)))}))}catch(e){console.log(e)}m.classList.add("hidden")}w(),u(o.totalPage,1),_.addEventListener("click",(function(){500!==l&&l!==o.totalPage&&(l+=1,a.innerHTML="",""===y?(u(o.totalPage,l),w(l)):(u(o.totalPage,l),q(y,l)))})),v.addEventListener("click",(function(e){const t=e.target.textContent;a.innerHTML="",l=parseInt(t),""===y?(u(o.totalPage,l),w(l)):(u(o.totalPage,l),q(y,l))})),g.addEventListener("click",(function(){1!==l&&(l-=1,a.innerHTML="",""===y?(u(o.totalPage,l),w(l)):(u(o.totalPage,l),q(y,l)))}));
//# sourceMappingURL=index.e688f5a2.js.map
