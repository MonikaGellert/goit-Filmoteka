function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},l={},o=t.parcelRequired7c6;null==o&&((o=function(e){if(e in n)return n[e].exports;if(e in l){var t=l[e];delete l[e];var o={id:e,exports:{}};return n[e]=o,t.call(o.exports,o,o.exports),o.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){l[e]=t},t.parcelRequired7c6=o);var i=o("5zJd0");const a=document.querySelector(".section-films__list");function d(e){const t=e.results.map((e=>`\n      <li class="film-card"><a  href="" data-id="${e.id}">\n      <div class="film-card">\n        <img class="film-card__img" src="https://image.tmdb.org/t/p/w500/${e.poster_path}" alt="${e.overview}" title="${e.title}" ID="${e.id}" loading="lazy"/>\n\n        <div class="film-card__info">\n            <p class="film-card__info--title">\n            ${e.title}\n            </p>\n            <p class="film-card__info--subtitle">\n            ${e.genre} | ${e.release_date.split("-")[0]}\n            </p>\n        </div>\n    </div>\n    </a>\n    </li>`)).join(" ");a.innerHTML=t}var c=o("7IoHk");e(c).Notify.init({width:"360px",borderRadius:"1px",timeout:"4000",showOnlyTheLastOne:"true",fontFamily:"$secondary"});const s=e=>{e.classList.add("hidden")},r=e=>{e.classList.remove("hidden")};var m=o("ezQ3Q");const u=document.querySelector(".backdrop");let _=null;function f(){s(u),window.removeEventListener("Click",w),window.removeEventListener("keydown",y)}function v(){m.addToWatched(_),console.log(`dodano film do obejrzanych o id ${_}`)}function p(){m.addToQueue(_),console.log(`dodano film do kolejki o id ${_}`)}function w(e){console.log(e.target),e.target==u&&f()}function y(e){"Escape"===e.key&&f()}function g(e){const t=`\n  <div class="modal-film__container modal-film">\n    <button type="button" class="modal-film__button" data-modal-close>\n      X\n      \x3c!-- <svg class="modal-film__close-icon">\n        <use href="./images/icons.svg#icon-close-black-18dp-2-1"></use>\n      </svg> --\x3e\n    </button>\n    <div class="modal-film__img-frame">\n      <img class="modal-film__img" src="https://image.tmdb.org/t/p/w500/${e.poster_path}" alt="" />\n    </div>\n    <div class="modal-film__card">\n      <h2 class="modal-film__title">${e.title}</h2>\n      <div class="modal-film__list">\n        <ul>\n          <li class="id"></li>\n          <li class="modal-film__content-text">Vote / Votes</li>\n          <li class="modal-film__content-text">Popularity</li>\n          <li class="modal-film__content-text">Original Title</li>\n          <li class="modal-film__content-text">Genre</li>\n        </ul>\n        <ul class="modal-film__content">\n          <div class="modal-film__rate">\n            <li class="modal-film__rate-content modal-film__wtf">${e.vote_average}</li>\n            <li class="modal-film__rate-content modal-film__slash">/</li>\n            <li class="modal-film__rate-content modal-film__wtf-two">${e.vote_count}</li>\n          </div>\n          <li class="modal-film__rate-content">${e.popularity}</li>\n          <li class="modal-film__rate-content modal-film__inner-title">${e.original_title}</li>\n          <li class="modal-film__rate-content">${e.genre}</li>\n        </ul>\n      </div>\n      <h3 class="modal-film__about">About</h3>\n      <p class="modal-film__desc">${e.overview}</p>\n      <div class="modal-film__buttons">\n        <button class="btn__modal" type="button" id="add__watched-btn">ADD TO WATCHED</button>\n        <button class="btn__modal" type="button" id="add__queue-btn">ADD TO QUEUE</button>\n      </div>\n    </div>\n  </div>\n    `;u.innerHTML=t;const n=document.querySelector("#add__queue-btn"),l=document.querySelector("#add__watched-btn"),o=document.querySelector("[data-modal-close]");n.addEventListener("click",p),l.addEventListener("click",v),o.addEventListener("click",f),_=e.id,r(u),window.addEventListener("click",w),window.addEventListener("keydown",y)}const b=document.querySelector("#studentsModal"),h=document.querySelector("#openModalBtn"),E=document.getElementById("closeModalBtn");function k(){s(b),window.removeEventListener("Click",L),window.removeEventListener("keydown",$)}function L(e){e.target===b&&k()}function $(e){console.log("klucz"),"Escape"===e.key&&k()}h.addEventListener("click",(function(){r(b),window.addEventListener("click",L),window.addEventListener("keydown",$)})),E.addEventListener("click",k);const q=document.querySelector("#search-form"),x=document.querySelector(".search-form__input"),T=document.querySelector(".section-films");q.addEventListener("submit",(async function(e){e.preventDefault();try{d(await i.fetchMoviesByName(x.value,1))}catch(e){console.log(e)}x.value=""})),T.addEventListener("click",(async function(e){e.preventDefault();try{g(await i.fetchMoviesByID(e.target.id))}catch(e){console.log(e)}})),async function(e){try{d(await i.fetchMovies(e))}catch(e){console.log(e)}}();
//# sourceMappingURL=index.613f9b6c.js.map
