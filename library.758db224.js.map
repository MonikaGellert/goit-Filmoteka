{"mappings":"kgBAIA,MAAMA,EAAUC,SAASC,cAAc,gBACvCF,EAAQG,UAAUC,IAAI,UACtB,MAAMC,EAAUJ,SAASC,cAAc,kBACjCI,EAAaL,SAASC,cAAc,gBACpCK,EAAWN,SAASC,cAAc,cAUlCM,EAAkBC,IACtB,MAAMC,EAAS,oGAEPD,EAAKE,+BACaF,EAAKG,+HAGnBH,EAAKG,2FAfJ,CAAAH,IACb,MAAMI,EAAgB,GACtB,IAAK,MAAMC,KAASL,EAAKM,OACvBF,EAAcG,KAAKF,EAAMG,MAE3B,OAAOJ,EAAcK,KAAK,OAadC,CAAOV,QAAWA,EAAKW,aAAaC,MAAM,KAAK,mDAI3DhB,EAAQiB,mBAAmB,YAAaZ,EAAA,EA6B1Ca,EAAAC,gBACAD,EAAAE,kBAEAnB,EAAWoB,iBAAiB,SA7BD,KACzB1B,EAAQG,UAAUwB,OAAO,UACzBtB,EAAQuB,UAAY,GACpBL,EAAAM,mBAAyBC,KAAIC,KAC3B,EAAAC,EAAAC,iBAAgBF,GACbG,MAAKzB,IACJT,EAAQG,UAAUC,IAAI,UACtBI,EAAgBC,EAAA,IAEjB0B,OAAMC,GAASC,QAAQD,MAAMA,IAAA,GAClC,IAoBF7B,EAASmB,iBAAiB,SAjBA,KACxB1B,EAAQG,UAAUwB,OAAO,UACzBtB,EAAQuB,UAAY,GACpBL,EAAAe,kBAAwBR,KAAIC,KAC1B,EAAAC,EAAAC,iBAAgBF,GACbG,MAAKzB,IACJT,EAAQG,UAAUC,IAAI,UACtBI,EAAgBC,EAAA,IAEjB0B,OAAMC,GAASC,QAAQD,MAAMA,IAAA,GAClC","sources":["src/library.js"],"sourcesContent":["import './sass/main.scss';\nimport * as local from './JS/local_storage';\nimport { fetchMoviesByID } from './JS/api_films_database';\n\nconst spinner = document.querySelector('.loader__div');\nspinner.classList.add('hidden');\nconst gallery = document.querySelector('.section-films');\nconst watchedBtn = document.querySelector('#watched-btn');\nconst queueBtn = document.querySelector('#queue-btn');\n\nconst genres = film => {\n  const arrayOfGenres = [];\n  for (const genre of film.genres) {\n    arrayOfGenres.push(genre.name);\n  }\n  return arrayOfGenres.join(', ');\n};\n\nconst createFilmCards = film => {\n  const markup = `<div class=\"film-card\">\n        <img class=\"film-card__img\" src=\"https://image.tmdb.org/t/p/w500${\n          film.poster_path\n        }\" alt=\"poster of ${film.title}\" loading=\"lazy\"/>\n        <div class=\"film-card__info\">\n            <p class=\"film-card__info--title\">\n            ${film.title}\n            </p>\n            <p class=\"film-card__info--subtitle\">\n            ${genres(film)} | ${film.release_date.split('-')[0]}\n            </p>\n        </div>\n    </div>`;\n  gallery.insertAdjacentHTML('beforeend', markup);\n};\n\nconst handleClickWatched = () => {\n  spinner.classList.remove('hidden');\n  gallery.innerHTML = [];\n  local.getWatchedMovies().map(index => {\n    fetchMoviesByID(index)\n      .then(film => {\n        spinner.classList.add('hidden');\n        createFilmCards(film);\n      })\n      .catch(error => console.error(error));\n  });\n};\n\nconst handleClickQueued = () => {\n  spinner.classList.remove('hidden');\n  gallery.innerHTML = [];\n  local.getQueuedMovies().map(index => {\n    fetchMoviesByID(index)\n      .then(film => {\n        spinner.classList.add('hidden');\n        createFilmCards(film);\n      })\n      .catch(error => console.error(error));\n  });\n};\n\nlocal.getLocalQueue();\nlocal.getLocalWatched();\n\nwatchedBtn.addEventListener('click', handleClickWatched);\nqueueBtn.addEventListener('click', handleClickQueued);\n"],"names":["$9a8afeea60b9dfd3$var$spinner","document","querySelector","classList","add","$9a8afeea60b9dfd3$var$gallery","$9a8afeea60b9dfd3$var$watchedBtn","$9a8afeea60b9dfd3$var$queueBtn","$9a8afeea60b9dfd3$var$createFilmCards","film","markup","poster_path","title","arrayOfGenres","genre","genres","push","name","join","$9a8afeea60b9dfd3$var$genres","release_date","split","insertAdjacentHTML","$ezQ3Q","getLocalQueue","getLocalWatched","addEventListener","remove","innerHTML","getWatchedMovies","map","index","$5zJd0","fetchMoviesByID","then","catch","error","console","getQueuedMovies"],"version":3,"file":"library.758db224.js.map"}