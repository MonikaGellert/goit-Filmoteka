{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,SCCA,MAAMC,EAAUC,SAASC,cAAc,wBAEhC,SAASC,EAAgBC,GAC9B,MAAMC,EAAeD,EAAME,QACxBC,KACCC,GAAQ,sDACqCA,EAAKC,iHAG9CD,EAAKE,qBACGF,EAAKG,oBAAoBH,EAAKI,cAAcJ,EAAKC,8HAIrDD,EAAKI,2FAGLJ,EAAKK,WAAWL,EAAKM,aAAaC,MAAM,KAAK,0EAOtDC,KAAK,KACRhB,EAAQiB,UAAYZ,CACtB,CC3BA,IAAAa,EAAAnB,EAAA,SAEAoB,EAAAD,GAASE,OAAOC,KAAK,CACnBC,MAAO,QACPC,aAAc,MACdC,QAAS,OACTC,mBAAoB,OACpBC,WAAY,eAWd,MAAMC,EAASC,IACbA,EAAKC,UAAUC,IAAI,WAGfC,EAASH,IACbA,EAAKC,UAAUG,OAAO,W,iBCjBxB,MAAMC,EAAgBhC,SAASC,cAAc,aAE7C,IAAIgC,EAAS,KAOb,SAASC,IACPR,EAAwBM,GACxBG,OAAOC,oBAAoB,QAASC,EACtC,CACA,SAASC,IACPC,EAAAC,aAA0BP,GAC1BQ,QAAQC,IAAI,mCAAmCT,IAEjD,CAEA,SAASU,IACPJ,EAAAK,WAAwBX,GACxBQ,QAAQC,IAAI,+BAA+BT,IAE7C,CAEA,SAASI,EAAWQ,GAClBJ,QAAQC,IAAIG,EAAIC,QACZD,EAAIC,QAAUd,GAChBE,GAEJ,CAgBO,SAASa,EAAmBC,GACjC,MAAMC,EAAe,0ZASmDD,EAASvC,+GAG7CuC,EAASrC,wgBAWoBqC,EAASE,sKAELF,EAASG,qFAE/BH,EAASI,2FACeJ,EAASK,uEACjCL,EAASpC,8HAItBoC,EAAStC,8RAS3CsB,EAAchB,UAAYiC,EAC1B,MAAMK,EAAgBtD,SAASC,cAAc,mBACvCsD,EAAkBvD,SAASC,cAAc,qBACzCuD,EAAUxD,SAASC,cAAc,sBAEvCqD,EAAcG,iBAAiB,QAASd,GACxCY,EAAgBE,iBAAiB,QAASnB,GAC1CkB,EAAQC,iBAAiB,QAASvB,GAClCD,EAASe,EAASxC,GA3FlBsB,EAAwBE,GACxBG,OAAOsB,iBAAiB,QAASpB,EA4FnC,CA9DArC,SAASyD,iBAAiB,WAL1B,SAAuBZ,GACL,WAAZA,EAAIa,KACN1B,EAAcJ,UAAUC,IAAI,SAEhC,IAGAM,OAAOsB,iBAAiB,SAASZ,IAC3BA,EAAIC,OAAOlB,UAAU+B,SAAS,aAChC3B,EAAcJ,UAAUC,IAAI,aC5ChC,MAAM+B,EAAgB5D,SAASC,cAAc,kBACvC4D,EAAe7D,SAASC,cAAc,iBACtC6D,EAAgB9D,SAAS+D,eAAe,iBAY9C,SAASC,IACPtC,EAAwBkC,GACxBzB,OAAOC,oBAAoB,QAAS6B,GACpC9B,OAAOC,oBAAoB,UAAW8B,EACxC,CACA,SAASD,EAAWpB,GACdA,EAAIC,SAAWc,GACjBI,GAEJ,CACA,SAASE,EAAYrB,GACnBJ,QAAQC,IAAI,SACI,WAAZG,EAAIa,KACNM,GAEJ,CAxBAH,EAAaJ,iBAAiB,SAI9B,WACE3B,EAAwB8B,GACxBzB,OAAOsB,iBAAiB,QAASQ,GACjC9B,OAAOsB,iBAAiB,UAAWS,EACrC,IAPAJ,EAAcL,iBAAiB,QAASO,GJAxC,MAAMG,EAAanE,SAASC,cAAc,gBACpCmE,EAAQpE,SAASC,cAAc,uBAC/BoE,EAAYrE,SAASC,cAAc,kBAKzCkE,EAAWV,iBAAiB,UAI5Ba,eAA2BzB,GACzBA,EAAI0B,iBACJ,IAEErE,QAD2BL,EAAA2E,kBAAsBJ,EAAMK,MAAO,GAIhE,CAFE,MAAOC,GACPjC,QAAQC,IAAIgC,EACd,CACAN,EAAMK,MAAQ,EAChB,IAZAJ,EAAUZ,iBAAiB,SAsB3Ba,eAA4BzB,GAC1BA,EAAI0B,iBACJ,IAEExB,QADuBlD,EAAA8E,gBAAoB9B,EAAIC,OAAOtC,IAIxD,CAFE,MAAOkE,GACPjC,QAAQC,IAAIgC,EACd,CACF,IAjBAJ,eAAgCM,GAC9B,IAEE1E,QAD2BL,EAAAgF,YAAgBD,GAI7C,CAFE,MAAOF,GACPjC,QAAQC,IAAIgC,EACd,CACF,CAaAI","sources":["src/index.js","src/JS/film_cards.js","src/JS/info_functions.js","src/JS/modal_card_film.js","src/JS/modal_footer.js"],"sourcesContent":["/************************************************************************************************************************************************/\nimport * as api from './JS/api_films_database';\nimport * as filmsCard from './JS/film_cards';\nimport * as functionsProject from './JS/info_functions';\nimport * as modalCardFilm from './JS/modal_card_film';\nimport * as studentsInfo from './JS/modal_footer';\nimport './sass/main.scss';\n\n/************************************************************************************************************************************************/\nconst searchForm = document.querySelector('#search-form');\nconst input = document.querySelector('.search-form__input');\nconst cardsFilm = document.querySelector('.section-films');\n//const studentsModal = document.querySelector('#studentsModal');\n// const spinner = document.querySelector('.loader__div');\n\n/************************************************************************************************************************************************/\nsearchForm.addEventListener('submit', searchFilms);\ncardsFilm.addEventListener('click', openCardFilm);\n//studentsModal.addEventListener('click', openCardFilm);\n/************************************************************************************************************************************************/\nasync function searchFilms(eve) {\n  eve.preventDefault();\n  try {\n    const popularFilms = await api.fetchMoviesByName(input.value, 1);\n    filmsCard.createFilmCards(popularFilms);\n  } catch (error) {\n    console.log(error);\n  }\n  input.value = '';\n}\nasync function loadPopularFilms(page) {\n  try {\n    const popularFilms = await api.fetchMovies(page);\n    filmsCard.createFilmCards(popularFilms);\n  } catch (error) {\n    console.log(error);\n  }\n}\n\nasync function openCardFilm(eve) {\n  eve.preventDefault();\n  try {\n    const infoFilm = await api.fetchMoviesByID(eve.target.id);\n    modalCardFilm.createModalContent(infoFilm);\n  } catch (error) {\n    console.log(error);\n  }\n}\n\n/************************************************************************************************************************************************/\nloadPopularFilms();\n","/************************************************************************************************************************************************/\nconst gallery = document.querySelector('.section-films__list');\n/************************************************************************************************************************************************/\nexport function createFilmCards(films) {\n  const markupImages = films.results\n    .map(\n      film => `\n      <li class=\"film-card\"><a  href=\"\" data-id=\"${film.id}\">\n      <div class=\"film-card\">\n        <img class=\"film-card__img\" src=\"https://image.tmdb.org/t/p/w500/${\n          film.poster_path\n        }\" alt=\"${film.overview}\" title=\"${film.title}\" ID=\"${film.id}\" loading=\"lazy\"/>\n\n        <div class=\"film-card__info\">\n            <p class=\"film-card__info--title\">\n            ${film.title}\n            </p>\n            <p class=\"film-card__info--subtitle\">\n            ${film.genre} | ${film.release_date.split('-')[0]}\n            </p>\n        </div>\n    </div>\n    </a>\n    </li>`,\n    )\n    .join(' ');\n  gallery.innerHTML = markupImages;\n}\n","import Notiflix from 'notiflix';\n\nNotiflix.Notify.init({\n  width: '360px',\n  borderRadius: '1px',\n  timeout: '4000',\n  showOnlyTheLastOne: 'true',\n  fontFamily: '$secondary',\n});\n\nshowError => Notiflix.Notify.failure('Error has occured. Please try again later');\n\nshowInfo => Notify.info('Already on the list!');\n\nshowSuccess => Notify.success('Successfully added to your collection');\n\nshowWarning => Notify.warning('Invalid data');\n\nconst hideEl = elem => {\n  elem.classList.add('hidden');\n};\n\nconst showEl = elem => {\n  elem.classList.remove('hidden');\n};\n\n//uÅ¼ycie - hide/show(document.querySelector('element'))\n\nexport { showError, showInfo, showSuccess, showWarning, hideEl, showEl };\n","/************************************************************************************************************************************************/\nimport * as functionsProject from './info_functions';\nimport * as localStorage from './local_storage';\n\n/************************************************************************************************************************************************/\n\nconst modalFilmCard = document.querySelector('.backdrop');\n/************************************************************************************************************************************************/\nlet idFilm = null;\n\n/************************************************************************************************************************************************/\nfunction openModal() {\n  functionsProject.showEl(modalFilmCard);\n  window.addEventListener('click', widowEvent);\n}\nfunction closeModal() {\n  functionsProject.hideEl(modalFilmCard);\n  window.removeEventListener('Click', widowEvent);\n}\nfunction addToWatched() {\n  localStorage.addToWatched(idFilm);\n  console.log(`dodano film do obejrzanych o id ${idFilm}`);\n  //'Dodano Film do Obejrzanych'\n}\n\nfunction addToQueued() {\n  localStorage.addToQueue(idFilm);\n  console.log(`dodano film do kolejki o id ${idFilm}`);\n  //'Dodano Film do  kolejki'\n}\n\nfunction widowEvent(eve) {\n  console.log(eve.target);\n  if (eve.target == modalFilmCard) {\n    closeModal();\n  }\n}\n\nfunction closeModalEsc(eve) {\n  if (eve.key === 'Escape') {\n    modalFilmCard.classList.add('hidden');\n  }\n}\ndocument.addEventListener('keydown', closeModalEsc);\n\nwindow.addEventListener('click', eve => {\n  if (eve.target.classList.contains('backdrop')) {\n    modalFilmCard.classList.add('hidden');\n  }\n});\n\n/************************************************************************************************************************************************/\nexport function createModalContent(filmData) {\n  const modalContent = `\n  <div class=\"modal-film__container modal-film\">\n    <button type=\"button\" class=\"modal-film__button\" data-modal-close>\n      X\n      <!-- <svg class=\"modal-film__close-icon\">\n        <use href=\"./images/icons.svg#icon-close-black-18dp-2-1\"></use>\n      </svg> -->\n    </button>\n    <div class=\"modal-film__img-frame\">\n      <img class=\"modal-film__img\" src=\"https://image.tmdb.org/t/p/w500/${filmData.poster_path}\" alt=\"\" />\n    </div>\n    <div class=\"modal-film__card\">\n      <h2 class=\"modal-film__title\">${filmData.title}</h2>\n      <div class=\"modal-film__list\">\n        <ul>\n          <li class=\"id\"></li>\n          <li class=\"modal-film__content-text\">Vote / Votes</li>\n          <li class=\"modal-film__content-text\">Popularity</li>\n          <li class=\"modal-film__content-text\">Original Title</li>\n          <li class=\"modal-film__content-text\">Genre</li>\n        </ul>\n        <ul class=\"modal-film__content\">\n          <div class=\"modal-film__rate\">\n            <li class=\"modal-film__rate-content modal-film__wtf\">${filmData.vote_average}</li>\n            <li class=\"modal-film__rate-content modal-film__slash\">/</li>\n            <li class=\"modal-film__rate-content modal-film__wtf-two\">${filmData.vote_count}</li>\n          </div>\n          <li class=\"modal-film__rate-content\">${filmData.popularity}</li>\n          <li class=\"modal-film__rate-content modal-film__inner-title\">${filmData.original_title}</li>\n          <li class=\"modal-film__rate-content\">${filmData.genre}</li>\n        </ul>\n      </div>\n      <h3 class=\"modal-film__about\">About</h3>\n      <p class=\"modal-film__desc\">${filmData.overview}</p>\n      <div class=\"modal-film__buttons\">\n        <button class=\"btn__modal\" type=\"button\" id=\"add__watched-btn\">ADD TO WATCHED</button>\n        <button class=\"btn__modal\" type=\"button\" id=\"add__queue-btn\">ADD TO QUEUE</button>\n      </div>\n    </div>\n  </div>\n    `;\n\n  modalFilmCard.innerHTML = modalContent;\n  const addToQueueBtn = document.querySelector('#add__queue-btn');\n  const addToWatchedBtn = document.querySelector('#add__watched-btn');\n  const exitBtn = document.querySelector('[data-modal-close]');\n\n  addToQueueBtn.addEventListener('click', addToQueued);\n  addToWatchedBtn.addEventListener('click', addToWatched);\n  exitBtn.addEventListener('click', closeModal);\n  idFilm = filmData.id;\n  openModal();\n}\n/************************************************************************************************************************************************/\n","/************************************************************************************************************************************************/\nimport * as functionsProject from './info_functions';\n/************************************************************************************************************************************************/\nconst studentsModal = document.querySelector('#studentsModal');\nconst openModalBtn = document.querySelector('#openModalBtn');\nconst closeModalBtn = document.getElementById('closeModalBtn');\n\n/************************************************************************************************************************************************/\nopenModalBtn.addEventListener('click', openModal);\ncloseModalBtn.addEventListener('click', closeModal);\n\n/************************************************************************************************************************************************/\nfunction openModal() {\n  functionsProject.showEl(studentsModal);\n  window.addEventListener('click', widowEvent);\n  window.addEventListener('keydown', keyListener);\n}\nfunction closeModal() {\n  functionsProject.hideEl(studentsModal);\n  window.removeEventListener('Click', widowEvent);\n  window.removeEventListener('keydown', keyListener);\n}\nfunction widowEvent(eve) {\n  if (eve.target === studentsModal) {\n    closeModal();\n  }\n}\nfunction keyListener(eve) {\n  console.log('klucz');\n  if (eve.key === 'Escape') {\n    closeModal();\n  }\n}\n/************************************************************************************************************************************************/\n"],"names":["$5zJd0","parcelRequire","$a7928b7055daeaab$var$gallery","document","querySelector","$a7928b7055daeaab$export$a35aec2f65da4d0","films","markupImages","results","map","film","id","poster_path","overview","title","genre","release_date","split","join","innerHTML","$7IoHk","$parcel$interopDefault","Notify","init","width","borderRadius","timeout","showOnlyTheLastOne","fontFamily","$2fc360c9921e41d1$export$f7afc6348c5aa3ec","elem","classList","add","$2fc360c9921e41d1$export$7c73e9f09e2c1bd7","remove","$c8dc27b44b8151c3$var$modalFilmCard","$c8dc27b44b8151c3$var$idFilm","$c8dc27b44b8151c3$var$closeModal","window","removeEventListener","$c8dc27b44b8151c3$var$widowEvent","$c8dc27b44b8151c3$var$addToWatched","$ezQ3Q","addToWatched","console","log","$c8dc27b44b8151c3$var$addToQueued","addToQueue","eve","target","$c8dc27b44b8151c3$export$eaa4c1c9f116a50b","filmData","modalContent","vote_average","vote_count","popularity","original_title","addToQueueBtn","addToWatchedBtn","exitBtn","addEventListener","key","contains","$0be3b281b2b775d1$var$studentsModal","$0be3b281b2b775d1$var$openModalBtn","$0be3b281b2b775d1$var$closeModalBtn","getElementById","$0be3b281b2b775d1$var$closeModal","$0be3b281b2b775d1$var$widowEvent","$0be3b281b2b775d1$var$keyListener","$1cb340a3d58589e5$var$searchForm","$1cb340a3d58589e5$var$input","$1cb340a3d58589e5$var$cardsFilm","async","preventDefault","fetchMoviesByName","value","error","fetchMoviesByID","page","fetchMovies","$1cb340a3d58589e5$var$loadPopularFilms"],"version":3,"file":"index.bbf631fb.js.map"}